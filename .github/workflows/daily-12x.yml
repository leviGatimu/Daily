name: Daily 12x commits (random prompt)

on:
  schedule:
    # 12 times/day = every 2 hours.
    # GitHub Actions cron is UTC.
    - cron: "5 */2 * * *"
  workflow_dispatch:

permissions:
  contents: write

jobs:
  commit:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Random prompt + update log
        run: |
          set -e

          # ---- Big prompt list (add/remove freely) ----
          PROMPTS=(
            "Write 1 sentence about what you learned today."
            "List 1 bug you fixed (even a tiny one)."
            "Write 1 thing you found confusing, and why."
            "Write 1 thing you now understand better."
            "Write 1 small improvement you made to a project."
            "Write 1 concept you revised (math/physics/coding)."
            "Write 1 shortcut/command you used today."
            "Write 1 mistake you made and what it taught you."
            "Write 1 goal for the next 24 hours."
            "Write 1 feature you want to build next."
            "Write 1 thing you would teach someone else."
            "Write 1 challenge you faced and how you handled it."
            "Write 1 line describing your current project status."
            "Write 1 thing you’re proud of today (small counts)."
            "Write 1 improvement you can make tomorrow."
            "Write 1 mini-plan for the next study session."
            "Write 1 new term/definition you learned."
            "Write 1 formula or rule you practiced."
            "Write 1 code snippet idea (describe, don’t paste)."
            "Write 1 test case you should add to your code."
            "Write 1 UI/UX improvement idea for your website."
            "Write 1 security thing to remember (validation, etc)."
            "Write 1 performance improvement idea."
            "Write 1 refactor you want to do."
            "Write 1 thing you learned about Git/GitHub."
            "Write 1 thing you learned about PHP."
            "Write 1 thing you learned about JavaScript."
            "Write 1 thing you learned about HTML/CSS."
            "Write 1 thing you learned about databases."
            "Write 1 robotics idea you thought of today."
            "Write 1 sensor/component you worked with."
            "Write 1 algorithm you reviewed (even basic)."
            "Write 1 math topic you practiced."
            "Write 1 physics concept you revised."
            "Write 1 real-life application of something you studied."
            "Write 1 resource you used (video/article) and what you got from it."
            "Write 1 question you still have."
            "Write 1 thing you’ll google later."
            "Write 1 improvement to your study method."
            "Write 1 thing that distracted you and how you’ll reduce it."
            "Write 1 tiny task you can finish in 10 minutes."
            "Write 1 commit message style you want to follow."
            "Write 1 reason your project matters to people."
            "Write 1 way to make your project more user-friendly."
            "Write 1 way to make your project more reliable."
            "Write 1 check you’ll add (edge cases)."
            "Write 1 new feature you want: login, dashboard, etc."
            "Write 1 detail you learned about APIs."
            "Write 1 thing about REST you understand now."
            "Write 1 thing about debugging you practiced."
            "Write 1 command you ran and what it did."
            "Write 1 thing you improved in your code readability."
            "Write 1 thing you improved in your folder structure."
            "Write 1 improvement to your README."
            "Write 1 thing you’d change if starting again."
            "Write 1 moment you felt stuck and how you got unstuck."
            "Write 1 line: 'Today I moved forward by ____.'"
            "Write 1 line: 'Tomorrow I will ____.'"
          )

          # Choose a random prompt
          PICKED="$(printf "%s\n" "${PROMPTS[@]}" | shuf -n 1)"

          # Timestamp: show both UTC and Kigali time (UTC+2)
          UTC_NOW="$(date -u '+%Y-%m-%d %H:%M UTC')"
          KIGALI_NOW="$(date -u -d '+2 hour' '+%Y-%m-%d %H:%M Kigali')"

          # Append to daily.md
          echo "### ${UTC_NOW} (${KIGALI_NOW})" >> daily.md
          echo "- Prompt: ${PICKED}" >> daily.md
          echo "" >> daily.md

      - name: Commit & push
        run: |
          git config user.name "leviGatimu"
          git config user.email "getmorelev@gmail.com"
          git add daily.md
          git commit -m "Daily log update (auto)" || exit 0
          git push
